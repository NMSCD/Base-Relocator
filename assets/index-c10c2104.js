!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const o={};var h,E,L,T,B;function v(e){const t=e.value;if(delete o.bases,delete o.newBases,o.bases=t,N(t))C();else{t&&O("JSON is not correctly formatted. Please make sure you copied the whole PersistentPlayerBases section.",!0);const e=document.getElementsByClassName("bases");for(const t of Array.from(e))t.innerHTML=""}}function N(e){try{return JSON.parse(o.bases),!0}catch(t){return e&&console.warn("JSON error detected: ",t),!1}}function O(e,t){const n=document.getElementById("warning");n.innerHTML=e,n.style.display=t?"block":""}function C(){const e=document.getElementsByClassName("bases");for(const t of Array.from(e))t.style.willChange="contents";const t=JSON.parse(o.bases),n=[];for(let e=0;e<t.length;e++){const s=t[e];if("ExternalPlanetBase"===s.BaseType.PersistentBaseTypes)continue;const o=b(e,s.Name);n.push(o)}for(const t of Array.from(e)){t.innerHTML="";for(const e of n){const n=e.cloneNode(!0);n.addEventListener("click",(e=>I(e.target))),t.appendChild(n)}t.style.willChange=""}}function b(e,t){const n=t?"div":"span",s=document.createElement(n);return s.dataset.id=e.toString(),s.innerText=t,s}function I(e){const t=e.closest(".bases"),n=null==t?void 0:t.querySelector(".clicked");null==n||n.classList.remove("clicked"),n!=e&&e.classList.add("clicked")}function J(e){var t,n,s,i,r,c,l,a;e.style.pointerEvents="none";const d=Array.from(document.getElementsByClassName("clicked"));if(2!==d.length||!d[0]||!d[1]||(null==(n=null==(t=d[0])?void 0:t.dataset)?void 0:n.id)===(null==(i=null==(s=d[1])?void 0:s.dataset)?void 0:i.id))return e.classList.remove("is-primary"),e.classList.add("is-danger"),2!==d.length?e.innerText="Must select 2 bases!":d[0]&&d[1]&&(null==(c=null==(r=d[0])?void 0:r.dataset)?void 0:c.id)!==(null==(a=null==(l=d[1])?void 0:l.dataset)?void 0:a.id)?e.innerText="Failed! (unknown cause)":e.innerText="Same base selected twice!",void setTimeout((()=>{e.classList.remove("is-danger"),e.classList.add("is-primary"),e.innerText=o.buttonText,e.style.pointerEvents=""}),1500);const u=o.newBases??(o.newBases=o.bases),m=JSON.parse(u),p=[];for(const e of d)p.push(e.dataset.id);const y=structuredClone(m[p[0]].Objects),f=structuredClone(m[p[1]].Objects);m[p[1]].Objects=y,o.copy||(m[p[0]].Objects=f),o.newBases=JSON.stringify(m);const g=o.copy?"Copied":"Swapped";e.innerText=`${g}!`,x(`${g} "${d[0].innerText}" ${o.copy?"to":"and"} "${d[1].innerText}"`),setTimeout((()=>{e.innerText=o.buttonText,e.style.pointerEvents=""}),1500)}function k(e){e.style.pointerEvents="none";const t=e.innerText;if(!o.newBases)return e.classList.remove("is-primary"),e.classList.add("is-danger"),e.innerText="No changes to copy!",void setTimeout((()=>{e.classList.remove("is-danger"),e.classList.add("is-primary"),e.innerText=t,e.style.pointerEvents=""}),1500);const n=JSON.parse(o.newBases),s=JSON.stringify(n,null,"\t");navigator.clipboard.writeText(s),e.innerText="Copied!",setTimeout((()=>{e.innerText=t,e.style.pointerEvents=""}),1500)}function A(e){const t=e.value.trim().toLowerCase(),n=e.nextElementSibling.children;for(const e of Array.from(n)){const n=e,s=n.innerText.toLowerCase();!t||s.includes(t)?n.style.display="":n.style.display="none"}}function x(e){const t=document.getElementById("actionlog"),n=document.createElement("div");n.innerText=e,n.classList.add("logItem"),null==t||t.appendChild(n)}function j(){if(!o.bases)return;const e=document.getElementsByClassName("clicked");for(const t of Array.from(e))t.classList.remove("clicked");o.newBases=JSON.parse(o.bases),x("Undid Edits")}function w(e){var t;o.copy=e;const n=document.querySelector("#output .columns .arrow");null==n||n.classList.toggle("copy",e),null==n||n.classList.toggle("swap",!e);const s=document.getElementById("swap");o.buttonText=e?"Copy Selected Base":"Swap Selected Bases",null!=(t=null==s?void 0:s.style)&&t.pointerEvents||(s.innerText=o.buttonText)}(()=>{w(document.getElementById("copyCheckbox").checked),v(document.getElementById("JSONinput"));const e=["left","right"],t=document.querySelector("#output .columns"),n=t.children;function s(e){const t=document.createElement("div"),n=document.createElement("input"),s=document.createElement("div");return t.classList.add("column"),t.id=e,n.type="text",n.placeholder="ðŸ”Ž Search",n.classList.add("input"),n.addEventListener("input",(function(){A(this)})),s.classList.add("bases"),t.appendChild(n),t.appendChild(s),t}t.insertAdjacentElement("afterbegin",s(e[0])),Array.from(n).at(-1).insertAdjacentElement("beforebegin",s(e[1]))})(),null==(h=document.getElementById("copyCheckbox"))||h.addEventListener("change",(function(){w(this.checked)})),null==(E=document.getElementById("reset"))||E.addEventListener("click",(()=>j())),null==(L=document.getElementById("copy"))||L.addEventListener("click",(function(){k(this)})),null==(T=document.getElementById("swap"))||T.addEventListener("click",(function(){J(this)})),null==(B=document.getElementById("JSONinput"))||B.addEventListener("input",(function(){v(this)}));
