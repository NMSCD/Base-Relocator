!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const l="is-outlined",d=1500,o={};var L,T,v,B,x;function w(e){const t=e.value;if(delete o.bases,delete o.newBases,o.bases=t,C(t))b();else{t&&I("JSON is not correctly formatted. Please make sure you copied the whole PersistentPlayerBases section.");const e=document.getElementsByClassName("bases");for(const t of Array.from(e))t.innerHTML=""}}function C(e){try{return JSON.parse(o.bases),!0}catch(t){return e&&console.warn("JSON error detected: ",t),!1}}function I(e,t){const n=document.getElementById("warning");n.innerHTML=e,n.style.display="block"}function b(){const e=document.getElementsByClassName("bases");for(const t of Array.from(e))t.style.willChange="contents";const t=JSON.parse(o.bases),n=[];for(let e=0;e<t.length;e++){const s=t[e];if("ExternalPlanetBase"===s.BaseType.PersistentBaseTypes)continue;const o=J(e,s.Name);n.push(o)}for(const t of Array.from(e)){t.innerHTML="";for(const e of n){const n=e.cloneNode(!0);n.addEventListener("click",(e=>k(e.target))),t.appendChild(n)}t.style.willChange=""}}function J(e,t){const n=t?"div":"span",s=document.createElement(n);return s.dataset.id=e.toString(),s.innerText=t,s}function k(e){const t=e.closest(".bases"),n=null==t?void 0:t.querySelector(".clicked");null==n||n.classList.remove("clicked"),n!==e&&e.classList.add("clicked")}function A(e){var t,n,s,i,r,c,a,u;e.style.pointerEvents="none";const m=Array.from(document.getElementsByClassName("clicked"));if(2!==m.length||!m[0]||!m[1]||(null==(n=null==(t=m[0])?void 0:t.dataset)?void 0:n.id)===(null==(i=null==(s=m[1])?void 0:s.dataset)?void 0:i.id))return e.classList.remove("is-primary"),e.classList.add("is-danger"),2!==m.length?e.innerText="Must select 2 bases!":m[0]&&m[1]&&(null==(c=null==(r=m[0])?void 0:r.dataset)?void 0:c.id)!==(null==(u=null==(a=m[1])?void 0:a.dataset)?void 0:u.id)?e.innerText="Failed! (unknown cause)":e.innerText="Same base selected twice!",void setTimeout((()=>{e.classList.remove("is-danger"),e.classList.add("is-primary"),e.innerText=o.buttonText,e.style.pointerEvents=""}),d);const y=o.newBases??(o.newBases=o.bases),p=JSON.parse(y),f=[];for(const e of m)f.push(e.dataset.id);const v=structuredClone(p[f[0]].Objects),g=structuredClone(p[f[1]].Objects);p[f[1]].Objects=v,o.copy||(p[f[0]].Objects=g),o.newBases=JSON.stringify(p);const L=o.copy?"Copied":"Swapped";e.classList.remove(l),e.innerText=`${L}!`,S(`${L} "${m[0].innerText}" ${o.copy?"to":"and"} "${m[1].innerText}"`),setTimeout((()=>{e.classList.add(l),e.innerText=o.buttonText,e.style.pointerEvents=""}),d)}function j(e){e.style.pointerEvents="none";const t=e.innerText;if(!o.newBases)return e.classList.remove("is-primary"),e.classList.add("is-danger"),e.innerText="No changes to copy!",void setTimeout((()=>{e.classList.remove("is-danger"),e.classList.add("is-primary"),e.innerText=t,e.style.pointerEvents=""}),d);const n=JSON.parse(o.newBases),s=JSON.stringify(n,null,"\t");navigator.clipboard.writeText(s),e.classList.remove(l),e.innerText="Copied!",setTimeout((()=>{e.classList.add(l),e.innerText=t,e.style.pointerEvents=""}),d)}function P(e){const t=e.value.trim().toLowerCase(),n=e.nextElementSibling.children;for(const e of Array.from(n)){const n=e,s=n.innerText.toLowerCase();!t||s.includes(t)?n.style.display="":n.style.display="none"}}function S(e){const t=document.getElementById("actionlog"),n=document.createElement("div");n.innerText=e,n.classList.add("log-item","my-2"),null==t||t.appendChild(n)}function M(){if(!o.bases)return;const e=document.getElementsByClassName("clicked");for(const t of Array.from(e))t.classList.remove("clicked");o.newBases=JSON.parse(o.bases),S("Undid Edits")}function N(e){var t;o.copy=e;const n=document.querySelector("#output .columns .arrow");null==n||n.classList.toggle("copy",e),null==n||n.classList.toggle("swap",!e);const s=document.getElementById("swap");o.buttonText=e?"Copy Selected Base":"Swap Selected Bases",null!=(t=null==s?void 0:s.style)&&t.pointerEvents||(s.innerText=o.buttonText)}(()=>{N(document.getElementById("copyCheckbox").checked),w(document.getElementById("JSONinput"));const e=["left","right"],t=document.querySelector("#output .columns"),n=t.children;function s(e){const t=document.createElement("div"),n=document.createElement("input"),s=document.createElement("div");return t.classList.add("column"),t.id=e,n.type="text",n.placeholder="ðŸ”Ž Search",n.classList.add("input","my-4"),n.addEventListener("input",(function(){P(this)})),s.classList.add("bases"),t.appendChild(n),t.appendChild(s),t}t.insertAdjacentElement("afterbegin",s(e[0])),Array.from(n).at(-1).insertAdjacentElement("beforebegin",s(e[1]))})(),null==(L=document.getElementById("copyCheckbox"))||L.addEventListener("change",(function(){N(this.checked)})),null==(T=document.getElementById("reset"))||T.addEventListener("click",(()=>M())),null==(v=document.getElementById("copy"))||v.addEventListener("click",(function(){j(this)})),null==(B=document.getElementById("swap"))||B.addEventListener("click",(function(){A(this)})),null==(x=document.getElementById("JSONinput"))||x.addEventListener("input",(function(){w(this)}));
